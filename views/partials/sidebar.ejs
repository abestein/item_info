<nav class="sidebar">
    <div class="sidebar-header">
        <h2>Dashboard</h2>
    </div>
    
    <ul class="sidebar-menu">
        <li class="menu-item <%= typeof activePage !== 'undefined' && activePage === 'home' ? 'active' : '' %>">
            <a href="/">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
        </li>
        <li class="menu-item <%= typeof activePage !== 'undefined' && activePage === 'items' ? 'active' : '' %>">
            <a href="/items">
                <i class="fas fa-box"></i>
                <span>Items</span>
            </a>
        </li>
        <li class="menu-item <%= typeof activePage !== 'undefined' && activePage === 'reports' ? 'active' : '' %>">
            <a href="/reports">
                <i class="fas fa-chart-bar"></i>
                <span>Reports</span>
            </a>
        </li>
        
        <!-- User Management Section -->
        <% if (typeof user !== 'undefined' && user.role === 'admin') { %>
        <li class="menu-section">
            <h3>User Management</h3>
        </li>
        <li class="menu-item <%= typeof activePage !== 'undefined' && activePage === 'users' ? 'active' : '' %>">
            <a href="/users">
                <i class="fas fa-users"></i>
                <span>User List</span>
            </a>
        </li>
        <li class="menu-item <%= typeof activePage !== 'undefined' && activePage === 'user-roles' ? 'active' : '' %>">
            <a href="/users/roles">
                <i class="fas fa-user-shield"></i>
                <span>Roles & Permissions</span>
            </a>
        </li>
        <% } %>

        <!-- Data Team Management Section -->
        <% if (typeof user !== 'undefined' && (user.role === 'admin' || user.role === 'editor' || user.role === 'manager')) { %>
        <li class="menu-section">
            <h3>Data Team</h3>
        </li>
        <li class="menu-item <%= typeof activePage !== 'undefined' && activePage === 'upload-data-team' ? 'active' : '' %>">
            <a href="/upload-data-team">
                <i class="fas fa-upload"></i>
                <span>Upload Items</span>
            </a>
        </li>
        <% if (typeof user !== 'undefined' && (user.role === 'admin' || user.role === 'editor')) { %>
        <li class="menu-item <%= typeof activePage !== 'undefined' && activePage === 'compare-data-team' ? 'active' : '' %>">
            <a href="/compare-data-team">
                <i class="fas fa-exchange-alt"></i>
                <span>Compare & Override</span>
            </a>
        </li>
        <% } %>
        <% } %>

        <li class="menu-section">
            <h3>System</h3>
        </li>
        <li class="menu-item <%= typeof activePage !== 'undefined' && activePage === 'settings' ? 'active' : '' %>">
            <a href="/settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </li>
    </ul>
    
    <div class="sidebar-footer">
        <div class="user-info">
            <i class="fas fa-user-circle"></i>
            <span><%= typeof currentUser !== 'undefined' ? currentUser : 'Guest User' %></span>
        </div>
    </div>
</nav>
